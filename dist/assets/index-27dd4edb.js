(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();function l(s){document.getElementById("error-text").innerText=`Sorry, but the city - ${s} - you were looking for  is not available! Try a different one!`,document.getElementById("error-message").style.display="block"}function d(){document.getElementById("error-message").style.display="none"}function u(s){fetch(`https://api.teleport.org/api/cities/?search=${s}&embed=city:search-results/city:item/city:urban_area/ua:scores`).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>{m(t),d(),a()}).catch(t=>{console.error("Error fetching city data:",t),l(s),a()}).finally(()=>{})}document.getElementById("search-form").addEventListener("submit",function(s){s.preventDefault();const t=document.getElementById("search-input").value;u(t)});function m(s){const o=s._embedded["city:search-results"][0]._embedded["city:item"]._embedded["city:urban_area"]._embedded["ua:scores"],i=o.categories,e=o.summary,r=o.teleport_city_score;let n=document.getElementById("results-list-categories");n.innerHTML+='<h2 class="header--js" >Categories:</h2><ul>',i.forEach(c=>{n.innerHTML+=`<div class="categories--div"><ul><li class="categories--list--js">${c.name}: ${c.score_out_of_10.toFixed(2)} / 10</li></ul></div>`}),document.getElementById("results-list-summary").innerHTML+=`<div class="description--js"><h3>Summary:</h3><p> ${e} </p></div>`,document.getElementById("results-list-score").innerHTML+=`<div class="quality--percentage--js"><h4>Quality of Life:</h4> ${r.toFixed(1)} points out of 100</div>`}function a(){document.querySelector(".background--image").style.display="none"}function y(){document.querySelector(".background--image").style.display="flex"}function f(){document.getElementById("results-list-categories").innerHTML="",document.getElementById("results-list-summary").innerHTML="",document.getElementById("results-list-score").innerHTML="",y()}document.getElementById("clear-btn").addEventListener("click",f);
